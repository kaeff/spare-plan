root = global ? window
angular = root.angular
thisApp = root.thisApp

thisApp.config(['$routeProvider', '$locationProvider',
($routeProvider, $locationProvider) ->
  #$locationProvider.hashPrefix('');
  $locationProvider.html5Mode true
  $routeProvider.when("/",
    controller: "WelcomeCtrl"
    template: JST['welcome/index']
  ).when("/resources", 
    controller: "ResourcesIndexCtrl"
    template: JST["resources/index"]
  ).when("/resources/new",
    controller: "ResourcesCreateCtrl"
    template: JST["resources/new"]
  ).when("/resources/:id",
    controller: "ResourcesShowCtrl"
    template: JST["resources/show"]
  ).when("/resources/:id/edit",
    controller: "ResourcesEditCtrl"
    template: JST["resources/edit"]
  ).when("/projects", 
    controller: ProjectsIndexCtrl
    templateUrl: '<%= asset_path("projects/index.html") %>'
  ).when("/projects/new",
    controller: ProjectsCreateCtrl
    templateUrl: '<%= asset_path("projects/new.html") %>'
  ).when("/projects/:id",
    controller: ProjectsShowCtrl
    templateUrl: '<%= asset_path("projects/show.html") %>'
  ).when("/projects/:id/edit",
    controller: ProjectsEditCtrl
    templateUrl: '<%= asset_path("projects/edit.html") %>'
  ).otherwise redirectTo: "/"
])
